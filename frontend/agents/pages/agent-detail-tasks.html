<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="智能体详情 - 任务管理">
    <title>智能体详情 - 任务管理 | 云脑</title>
    <link rel="stylesheet" href="../../css/common.css">
    <link rel="stylesheet" href="../../css/dashboard.css">
    <link rel="stylesheet" href="../css/agent-detail.css">
</head>
<body class="agent-detail-page">
    <!-- 左侧主导航栏 - 智能体详情页模式（收起） -->
    <aside class="sidebar collapsed" id="sidebar">
        <!-- Logo 区 -->
        <div class="sidebar-logo">
            <a href="../../dashboard.html" class="logo-link" title="云脑">
                <div class="logo-icon">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="32" height="32" rx="6" fill="#2563EB"/>
                        <path d="M16 8L20 14H12L16 8Z" fill="white"/>
                        <path d="M10 18L14 24H6L10 18Z" fill="white" opacity="0.8"/>
                        <path d="M22 18L26 24H18L22 18Z" fill="white" opacity="0.8"/>
                    </svg>
                </div>
                <h1 class="logo-text">云脑</h1>
            </a>
        </div>

        <!-- 主导航菜单 -->
        <div class="sidebar-content">
            <nav class="sidebar-nav">
                <!-- 首页 - 带收藏快捷入口 -->
                <div class="nav-item-home-wrapper">
                    <a href="../../dashboard.html" class="nav-item nav-item-home" title="首页">
                        <span class="nav-icon">🏠</span>
                        <span class="nav-text">首页</span>
                    </a>
                    <div class="home-menu" id="homeMenu">
                        <a href="../../dashboard.html" class="home-menu-favorite-item">
                            <span class="home-menu-favorite-icon">🏠</span>
                            <span class="home-menu-favorite-name">首页</span>
                        </a>
                        <div class="home-menu-favorites" id="homeMenuFavorites">
                            <div class="home-menu-favorites-empty" id="homeMenuFavoritesEmpty" style="display: none;">
                                <p class="home-menu-empty-text">暂无收藏</p>
                            </div>
                            <div class="home-menu-favorites-list" id="homeMenuFavoritesList"></div>
                        </div>
                    </div>
                </div>
            </nav>

            <!-- 底部导航 -->
            <nav class="sidebar-nav-bottom">
                <a href="../../templates.html" class="nav-item" title="UI模板">
                    <span class="nav-icon">📐</span>
                    <span class="nav-text">UI模板</span>
                </a>

                <a href="#" class="nav-item" title="帮助中心">
                    <span class="nav-icon">❓</span>
                    <span class="nav-text">帮助中心</span>
                </a>

                <a href="#" class="nav-item" title="用户反馈">
                    <span class="nav-icon">💬</span>
                    <span class="nav-text">用户反馈</span>
                </a>

                <div class="nav-item-user-wrapper">
                    <a href="#" class="nav-item nav-item-user" id="userNavItem" title="个人中心">
                        <div class="user-avatar" id="userAvatar">T</div>
                        <span class="user-name" id="userName">测试用户</span>
                    </a>
                    <div class="user-menu" id="userMenu">
                        <a href="#" class="user-menu-item">
                            <span class="nav-icon">👤</span>
                            <span class="nav-text">个人中心</span>
                        </a>
                        <button class="user-menu-item nav-item-logout" id="logoutBtn">
                            <span class="nav-icon">🚪</span>
                            <span class="nav-text">退出登录</span>
                        </button>
                    </div>
                </div>
            </nav>
        </div>
    </aside>

    <!-- 主内容区 -->
    <main class="main-content-area">
        <!-- 智能体头部信息 -->
        <div class="agent-header">
            <div class="agent-header-main">
                <div class="agent-icon">🔒</div>
                <div class="agent-info">
                    <div class="agent-title-wrapper">
                        <h2 class="agent-title">代码安全审计助手</h2>
                        <span class="agent-type">高级</span>
                        <span class="agent-version">v2.1.0</span>
                    </div>
                    <p class="agent-description">专业的代码安全审计智能体，支持多种编程语言的漏洞检测和安全分析</p>
                </div>
            </div>
        </div>

        <!-- 内容容器 -->
        <div class="content-container">
            <!-- 智能体详情侧导航 -->
            <aside class="agent-sidebar">
                <nav class="agent-nav">
                    <!-- 新任务按钮 -->
                    <button class="btn-new-chat">
                        <span class="btn-icon">✨</span>
                        <span class="btn-text">新任务</span>
                    </button>

                    <!-- 近期任务 -->
                    <div class="nav-group">
                        <div class="nav-group-title">近期任务</div>
                        <a href="agent-detail-tasks.html" class="agent-nav-item active">
                            <span class="nav-icon">📋</span>
                            <span class="nav-text">全部任务记录</span>
                        </a>
                    </div>
                </nav>

                <!-- 底部操作 -->
                <div class="agent-sidebar-footer">
                    <!-- 智能体管理区 -->
                    <div class="nav-group nav-group-footer">
                        <a href="agent-detail-knowledge.html" class="agent-nav-item">
                            <span class="nav-icon">📚</span>
                            <span class="nav-text">知识库</span>
                            <span class="nav-count">(25)</span>
                        </a>
                        <a href="agent-detail-tools.html" class="agent-nav-item">
                            <span class="nav-icon">🔧</span>
                            <span class="nav-text">工具插件</span>
                            <span class="nav-count">(8)</span>
                        </a>
                        <a href="agent-detail-settings.html" class="agent-nav-item">
                            <span class="nav-icon">⚙️</span>
                            <span class="nav-text">智能体设置</span>
                        </a>
                    </div>
                    <button class="btn btn-block btn-secondary">
                        <span>🔗</span>
                        <span>分享协作</span>
                    </button>
                </div>
            </aside>

            <!-- 主内容区域 - 任务管理 -->
            <div class="agent-main-content">
                <div class="tasks-container">
                    <!-- 页面标题和工具栏 -->
                    <div class="page-header">
                        <h3 class="page-title">全部任务记录</h3>
                        <div class="page-actions">
                            <div class="filter-group">
                                <select class="select-field">
                                    <option value="all">全部类型</option>
                                    <option value="chat">对话式</option>
                                    <option value="gui">GUI交互式</option>
                                </select>
                                <select class="select-field">
                                    <option value="all">全部状态</option>
                                    <option value="running">进行中</option>
                                    <option value="completed">已完成</option>
                                    <option value="failed">失败</option>
                                </select>
                                <select class="select-field">
                                    <option value="desc">最新在前</option>
                                    <option value="asc">最早在前</option>
                                </select>
                            </div>
                            <button class="btn btn-primary">
                                <span>➕</span>
                                <span>创建新任务</span>
                            </button>
                        </div>
                    </div>

                    <!-- 任务列表 -->
                    <div class="tasks-list">
                        <!-- 任务卡片 - 进行中 -->
                        <div class="task-card task-running">
                            <div class="task-icon task-icon-chat">💬</div>
                            <div class="task-content">
                                <div class="task-header">
                                    <h4 class="task-title">代码安全审计 - Laravel项目</h4>
                                    <div class="task-meta">
                                        <span class="task-type badge badge-info">对话式</span>
                                        <span class="task-status badge badge-warning">进行中</span>
                                    </div>
                                </div>
                                <p class="task-description">正在审计Laravel电商项目的安全性，已完成60%...</p>
                                <div class="task-footer">
                                    <span class="task-time">📅 创建于 2024-12-09 14:30</span>
                                    <div class="task-actions">
                                        <button class="btn btn-sm btn-primary">继续任务</button>
                                        <button class="btn btn-sm btn-secondary">查看详情</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 任务卡片 - GUI交互式 进行中 -->
                        <div class="task-card task-running">
                            <div class="task-icon task-icon-gui">🖥️</div>
                            <div class="task-content">
                                <div class="task-header">
                                    <h4 class="task-title">React应用漏洞扫描</h4>
                                    <div class="task-meta">
                                        <span class="task-type badge badge-success">GUI交互式</span>
                                        <span class="task-status badge badge-warning">进行中</span>
                                    </div>
                                </div>
                                <p class="task-description">使用可视化界面进行React应用的XSS和CSRF漏洞检测...</p>
                                <div class="task-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 35%"></div>
                                    </div>
                                    <span class="progress-text">35%</span>
                                </div>
                                <div class="task-footer">
                                    <span class="task-time">📅 创建于 2024-12-09 10:15</span>
                                    <div class="task-actions">
                                        <button class="btn btn-sm btn-primary">继续任务</button>
                                        <button class="btn btn-sm btn-secondary">查看详情</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 任务卡片 - 已完成 -->
                        <div class="task-card task-completed">
                            <div class="task-icon task-icon-chat">💬</div>
                            <div class="task-content">
                                <div class="task-header">
                                    <h4 class="task-title">Python API安全审计</h4>
                                    <div class="task-meta">
                                        <span class="task-type badge badge-info">对话式</span>
                                        <span class="task-status badge badge-success">已完成</span>
                                    </div>
                                </div>
                                <p class="task-description">已完成FastAPI项目的全面安全审计，发现3个高危漏洞</p>
                                <div class="task-stats">
                                    <div class="stat-item">
                                        <span class="stat-label">发现漏洞</span>
                                        <span class="stat-value stat-danger">3</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">已修复</span>
                                        <span class="stat-value stat-success">2</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">安全评分</span>
                                        <span class="stat-value">75/100</span>
                                    </div>
                                </div>
                                <div class="task-footer">
                                    <span class="task-time">📅 创建于 2024-12-08 16:20 | 完成于 2024-12-08 18:45</span>
                                    <div class="task-actions">
                                        <button class="btn btn-sm btn-secondary">查看详情</button>
                                        <button class="btn btn-sm btn-secondary">导出报告</button>
                                        <button class="btn-icon" title="删除">🗑️</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 任务卡片 - 失败 -->
                        <div class="task-card task-failed">
                            <div class="task-icon task-icon-gui">🖥️</div>
                            <div class="task-content">
                                <div class="task-header">
                                    <h4 class="task-title">Spring Boot应用审计</h4>
                                    <div class="task-meta">
                                        <span class="task-type badge badge-success">GUI交互式</span>
                                        <span class="task-status badge badge-danger">失败</span>
                                    </div>
                                </div>
                                <p class="task-description">
                                    <span class="error-icon">⚠️</span>
                                    任务执行失败：无法连接到目标服务器
                                </p>
                                <div class="task-footer">
                                    <span class="task-time">📅 创建于 2024-12-07 09:00</span>
                                    <div class="task-actions">
                                        <button class="btn btn-sm btn-primary">重试</button>
                                        <button class="btn btn-sm btn-secondary">查看日志</button>
                                        <button class="btn-icon" title="删除">🗑️</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 任务卡片 - 已完成 -->
                        <div class="task-card task-completed">
                            <div class="task-icon task-icon-chat">💬</div>
                            <div class="task-content">
                                <div class="task-header">
                                    <h4 class="task-title">Node.js安全咨询</h4>
                                    <div class="task-meta">
                                        <span class="task-type badge badge-info">对话式</span>
                                        <span class="task-status badge badge-success">已完成</span>
                                    </div>
                                </div>
                                <p class="task-description">咨询Express.js应用的最佳安全实践和防护建议</p>
                                <div class="task-footer">
                                    <span class="task-time">📅 创建于 2024-12-06 14:30 | 完成于 2024-12-06 15:10</span>
                                    <div class="task-actions">
                                        <button class="btn btn-sm btn-secondary">查看详情</button>
                                        <button class="btn-icon" title="删除">🗑️</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 分页器 -->
                    <div class="pagination">
                        <button class="pagination-btn" disabled>上一页</button>
                        <div class="pagination-pages">
                            <button class="pagination-page active">1</button>
                            <button class="pagination-page">2</button>
                            <button class="pagination-page">3</button>
                            <span class="pagination-ellipsis">...</span>
                            <button class="pagination-page">10</button>
                        </div>
                        <button class="pagination-btn">下一页</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="../../js/dashboard.js"></script>
    <script src="../js/agent-detail.js"></script>
</body>
</html>
